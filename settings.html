<!-- FCUL Interação com Computadores
53469, Pedro Luís, PL12, Grupo 23
54975, Miguel Lages, PL12, Grupo 23
55373, José Almeida, PL12, Grupo 23 -->

<!DOCTYPE html>

<html lang="pt-pt">

    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="Estilos/estilos.css">
        <script src="Scripts/login.js"></script>
        <!-- <script src="Scripts/photos.js"></script>
        <script src="Scripts/newAlbum.js"></script>
        <script src="Scripts/memento.js"></script>
        <script src="Scripts/profile.js"></script> -->
        <script src="Scripts/settings.js"></script>
        <script src="Scripts/help.js"></script>
        <link rel="icon" type="image/png" href="Recursos/favicon.png"/>

        <script>
            
            var backgroundColor = document.querySelector(":root");
            if(currentAccount.darkmode == true){
                backgroundColor.style.setProperty("--BACKGROUND1", "rgb(43, 39, 39)");
                backgroundColor.style.setProperty("--NOTIFICATION", "rgb(26, 23, 23)");
                backgroundColor.style.setProperty("--ALBUMVIEWER", "rgb(29, 28, 28)");
                backgroundColor.style.setProperty("--NEWALBUMNAME", "rgb(255, 255, 255)");
                backgroundColor.style.setProperty("--HELP", "rgb(29, 28, 28)");
            }

        </script>

        <title>Settings</title>
    </head>

    <body id="settings"> 
       
        <div id="container">
            
            <div id="notificationBox"><img class="logo" src="Recursos/info.png"><h2></h2></div>

            <!-- Dimmers (usados para alternar entre popup e backrgound alternando a opacidade de cada um) -->
            <div id="dimmer"></div>

            <!-- Titulo da Página-->
            <h3 class="title">Definições</h3>

            <!-- Botão que permite voltar à página anterior (Memento) -->
            <a href="memento.html"><img class="backArrow" src="Recursos/backArrow.png"></a>

            <!-- Botão Ajuda (abre em popup) -->
            <img id="helpButton" src ="Recursos/help.png" onclick="openHelpBox()">

            <!-- Tabela que apresenta os dados pessoais do utilizador (nome de utiilizador, email e palavra-pase) -->
            <div id="settingsInformation">
                <a id="settingsAvatarContainer" class="acrylic" ><img id="settingsAvatar" src="Recursos/Avatares/defaultAvatar.png"></a>
                <a id="changeAvatar" onclick="openChangeAvatarBox()">Editar <img id="editAvatarIcon" src="Recursos/editIcon2.png"></a>
                <table id="settingsTable">
                    <tr>
                        <th id="settingsUserName">Nome de utilizador:</th>
                    </tr>
                    <tr>
                        <!-- Nome do utilizador -->
                        <th id="stgsUserName"></th>
                        <!-- Botão para editar o nome de utilizador -->
                        <th><img id="editSettingsIcon" src="Recursos/editIcon2.png" onclick="openChangeUserNameBox()"></th>
                    </tr>
                    <tr>
                        <th id="settingsEmail">E-mail:</th>
                    </tr>
                    <tr>
                        <!-- Email do utilizador -->
                        <th id="stgsEmail"></th>
                        <!-- Botão para editar o email do utilizador -->
                        <th><img id="editSettingsIcon" src="Recursos/editIcon2.png" onclick="openChangeEmailBox()"></th>
                    </tr>
                    <tr>
                        <!-- Botão para mudar o email do utilizador -->
                        <th><a id="changePasswordButton" onclick="openChangePasswordBox()">Mudar a palavra-passe</a></th>
                    </tr>
                    <tr>
                        <!-- Botão que permite alterar entre LightMode e DarkMode -->
                        <th id="darkMode">Dark Mode</th>
                        <th id="darkModeBtn"><input id="darkModeSwitch" type="checkbox" onclick="darkMode()"><span></span></th>
                    </tr>
                </table>
            </div>

            <!-- Caixa de mudança de nome de utilizador (abre em popup) -->
            <div id="changeUserNameBox">
                <!-- Botão para fechar a caixa que se encontra aberta -->
                <img class="cross" src="Recursos/cross.png" onclick="closeChangeUserNameBox()">
                <form id="changeUserNameForm" autocomplete="off">
                    <h1 class="changeUserNameTitle">Mudar o<br>nome de utilizador</h1>
                    <!-- Novo nome de utilizador -->
                    <label for="newUserName"><b>Novo nome de utilizador:</b></label>
                    <input type="text" placeholder="Escrever o novo nome de utilizador..." name="newUserName" required>
                    <!-- Botão que confirma a mudança de nome de utilizador, altera na localStorage e fecha a changeUserNameBox -->
                    <button type="button" class="formButton" id="changeUserNameSubmitButton" onclick="changeUserNameHandler()">Confirmar</button>
                </form>
            </div>

            <!-- Caixa de mudança de email de utilizador (abre em popup) -->
            <div id="changeEmailBox">
                <!-- Botão para fechar a caixa que se encontra aberta -->
                <img class="cross" src="Recursos/cross.png" onclick="closeChangeEmailBox()">
                <form id="changeEmailForm" autocomplete="off">
                    <h1 class="changeEmailTitle">Mudar o <br> email do utilizador</h1>
                    <!-- Novo email do utilizador -->
                    <label for="currentEmail"><b>Novo email:</b></label>
                    <input type="email" placeholder="Escrever novo email..." name="newEmail" required>
                    <!-- Botão que confirma a mudança de email, altera na localStorage e fecha a changeEmailBox -->
                    <button type="button" class="formButton" id="changeEmailSubmitButton" onclick="changeEmailHandler()">Confirmar</button>
                </form>
            </div>

            <!-- Caixa de mudança de palavra-passe (abre em popup) -->
            <div id="changePasswordBox">
                <!-- Botão para fechar a caixa que se encontra aberta -->
                <img class="cross" src="Recursos/cross.png" onclick="closeChangePasswordBox()">
                <form id="changePasswordForm" autocomplete="off">
                    <h1 class="changePasswordTitle">Mudar a<br>palavra-passe</h1>
                    <!-- Palavra-passe atual -->
                    <label for="currentPassword"><b>Palavra-passe atual:</b></label>
                    <input type="password" placeholder="Escrever palavra-passe atual..." name="currentPassword" required>
                    <!-- Nova palavra-passe -->
                    <label for="newPassword"><b>Nova palavra-passe:</b></label>
                    <input type="password" placeholder="Escrever nova palvra-passe..." name="newPassword" required>
                    <!-- Nova palavra-passe -->
                    <label for="confirmNewPassword"><b>Confirmar nova palavra-passe:</b></label>
                    <input type="password" placeholder="Escrever nova palvra-passe..." name="confirmNewPassword" required>
                    <!-- Botão que confirma a mudança de palavra-passe, altera na localStorage e fecha a changePasswordBox -->
                    <button type="button" class="formButton" id="changePasswordSubmit" onclick="changePasswordHandler()">Confirmar</button>
                </form>
            </div>

            <!-- Caixa de mudança de avatar (abre em popup) -->
            <div id="changeAvatarBox">
                <!-- Botão para fechar a caixa que se encontra aberta -->
                <img class="cross" src="Recursos/cross.png" onclick="closeChangeAvatarBox()">
                <form id="changeEmailForm" autocomplete="off">
                    <div id="escolhaAvatar"><h3>Selecione o avatar</h3>
                        <img src="./Recursos/Avatares/1.png" class="avatar">
                        <img src="./Recursos/Avatares/2.png" class="avatar">
                        <img src="./Recursos/Avatares/3.png" class="avatar">
                        <img src="./Recursos/Avatares/4.png" class="avatar">
                        <img src="./Recursos/Avatares/5.png" class="avatar">
                        <img src="./Recursos/Avatares/6.png" class="avatar">
                        <img src="./Recursos/Avatares/7.png" class="avatar">
                        <img src="./Recursos/Avatares/8.png" class="avatar">
                        <img src="./Recursos/Avatares/9.png" class="avatar">
                        <img src="./Recursos/Avatares/10.png" class="avatar">
                        <img src="./Recursos/Avatares/11.png" class="avatar">
                        <img src="./Recursos/Avatares/12.png" class="avatar">
                    </div>

                    <button type="button" class="formButton" id="changePasswordSubmit" onclick="changePasswordHandler()">Confirmar</button>
                </form>
            </div>

            <!-- Caixa de Ajuda (abre em popup)-->
            <div id="helpBox">
                <!-- Botão para fechar a caixa que se encontra aberta -->
                <img class="cross" src="Recursos/cross.png" onclick="closeHelpBox()">
                <div class="dropdownSettings">
                    <a class="helpTitle">• Como mudar o meu nome de utilizador?</a>
                    <img src="Recursos/dropdown.png" onclick="toggleHelpSection(1)" id="helpViewer1">
                    <div id="dropdownContent1" class="dropdownContentSettings">
                        <a>Para mudar o nome de utilizador basta clicar no botão <img class="helpIcon" src="Recursos/editIcon2.png">
                            que se apresenta na mesma linha do seu nome de utilizador atual.
                        </a>
                    </div>
                </div>
                <div class="dropdownSettings">
                    <a class="helpTitle">• Como mudar o meu o email?</a>
                    <img src="Recursos/dropdown.png" onclick="toggleHelpSection(2)" id="helpViewer2">
                    <div id="dropdownContent2" class="dropdownContentSettings">
                        <a>Para mudar o email basta clicar no botão <img class="helpIcon" src="Recursos/editIcon2.png">
                            que se apresenta na mesma linha do seu email atual.
                        </a>
                    </div>
                </div>
                <div class="dropdownSettings">
                    <a class="helpTitle">• Como mudar a minha a palavra-passe?</a>
                    <img src="Recursos/dropdown.png" onclick="toggleHelpSection(3)" id="helpViewer3">
                    <div id="dropdownContent3" class="dropdownContentSettings">
                        <a>Para mudar a palavra-passe basta clicar no botão "Mudar a palavra-pase". É necessário
                            que tenha conhecimento da sua palavra-pase atual para efetuar esta alteração.
                        </a>
                    </div>
                </div>
                <div class="dropdownSettings">
                    <a class="helpTitle">• Como faço para mudar o meu avatar?</a>
                    <img src="Recursos/dropdown.png" onclick="toggleHelpSection(4)" id="helpViewer4">
                    <div id="dropdownContent4" class="dropdownContentSettings">
                        <a>Para mudar o avatar basta carregar no botão "Editar <img class="helpIcon" src="Recursos/editIcon2.png">"
                        </a>
                    </div>
                </div>
            </div>

            <!-- BACKGROUND  -->
            <div class="area" >
                <ul class="circles">
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                </ul>
            </div>

        </div>

    </body>

</html>